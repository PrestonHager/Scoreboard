<!DOCTYPE html>

<html>
<head>
  <title>Scoreboard</title>
  <link href="/static/edit.css" rel="stylesheet">
  <link href="/static/loadingio.css" rel="stylesheet">
</head>
<body>
  <h1 class="header">Edit Scoreboard</h1>
  <p class="header">
    <span id="scoreboard-name">{{ title }}</span>
    <span id="scoreboard-name-entry">
      <input id="entry-scoreboard-name" class="entry-scoreboard-name" value="{{ title }}">
      <button class="done-button" id="action-rename-done">
        Done
      </button>
    </span>
  </p>
  <div class="container">
    <button id="action-add">Add Listing</button>
    <button id="action-rename">Rename Scoreboard</button>
  </div>
  <ul id="listings">
  {% for listing in scores %}
    <li id="listing-{{ listing }}" class="listing">
      <div class="listing-data" id="listing-data-{{ listing }}">
        <span class="listing-name">
          <span id="listing-name-{{ listing }}">
            {{ scores[listing]['name'] or 'Unknown'}}
          </span>
        </span>
        <span class="listing-score">
          Score -
          <span id="listing-score-{{ listing }}">
            {{ scores[listing]['total'] }}
          </span>
        </span>
        <span class="listing-actions">
          <button class="edit-button" id="action-edit-{{ listing }}" onclick="editListing('{{ listing }}')">
            <i class="fas fa-edit"></i>
          </button>
        </span>
      </div>
      <div class="listing-entry" id="listing-entry-{{ listing }}">
        <span class="listing-name">
          <input id="entry-name-{{ listing }}" class="entry-listing-name" value="{{ scores[listing]['name'] or 'Unknown'}}">
        </span>
        <span class="listing-score">
          <p>
            Score -
          </p>
          <span class="input-entry">
            <input id="entry-score-{{ listing }}" class="entry-listing-score" value="{{ scores[listing]['total'] }}" type="number">
          </span>
        </span>
        <span class="listing-actions">
          <button class="delete-button" id="action-delete-{{ listing }}" onclick="deleteListing('{{ listing }}')">
            <i class="fas fa-trash"></i>
          </button>
          <button class="done-button" id="action-done-{{ listing }}" onclick="editListingDone('{{ listing }}')">
            Done
          </button>
        </span>
      </div>
    </li>
  {% endfor %}
  </ul>
  <div id="popup-delete" class="popup">
    <p>
      Are you sure you want to delete this listing?
      It cannot be undone.
    </p>
    <button id="action-cancel">
      No
    </button>
    <button id="action-confirm">
      Yes
    </button>
  </div>
  <script src="https://kit.fontawesome.com/7f9874946f.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="/static/edit.js"></script>
</body>
</html>
